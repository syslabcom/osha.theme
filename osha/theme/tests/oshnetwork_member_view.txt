First, we setup the tests:

    >>> from Products.Five.testbrowser import Browser
    >>> browser = Browser()
    >>> portal_url = self.portal.absolute_url()
    >>> self.portal.error_log._ignored_exceptions = () 

Login and create some content:

    >>> self.loginAsPortalOwner()
    >>> self.portal.invokeFactory("Folder", "en")
    'en'
    >>> self.portal.en.invokeFactory("Folder", "belgium")
    'belgium'
    >>> self.portal.en.belgium.invokeFactory("Document", "index_html")
    'index_html'

Add a 'layout' property to render the oshnetwork-member-view

    >>> bel = self.portal.en.belgium.index_html
    >>> bel._setProperty('layout', 'oshnetwork-member-view')

    >>> from Products.PloneTestCase.setup import portal_owner, default_password
    >>> browser.open(portal_url)

We have the login portlet, so let's use that.

    >>> browser.getControl(name='__ac_name').value = portal_owner
    >>> browser.getControl(name='__ac_password').value = default_password
    >>> browser.getControl(name='submit').click()

    >>> browser.open(portal_url+"/en/belgium/index_html/@@oshnetwork-member-view")
    >>> rendered_page = browser.contents
    >>> "Agency's resources" in rendered_page
    True
