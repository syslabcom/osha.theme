osha.theme Changelog
====================

1.3.0b1 (unreleased)
--------------------

- Removed AnnotatableLinkListVocabulary, now located in osha.adaptation (jcbrand)


1.2.58 (2010-01-19)
-------------------

- portlets/image: readded the showbox attribute to allow portlets without a box (pilz)
- portlets/image: added a clear in case a box is really used so that it does not
  overlap with the image (pilz)


1.2.57 (2010-01-18)
-------------------

- reverted portlets/network_member_links.py and vocabulary.py to not depend on
  osha.adaptation. This is temporary until that egg can be released (jcbrand)

1.2.56 (2010-01-18)
-------------------

- changed topic(s) view to use image(s)/video from the canonical
  translation for all languages #428 (deroiste)
- fixed a lethal h3 display:none. After update, remove ploneCustom.css from
  napocustom skinsfolder and test the appearance of filmtitles on napo-films.
- Added skins/osha_theme_scripts/discussion_reply.cpy to fix issue #441. After
  the upgrade, the osha_theme_scripts layer must be moved above qplonecomments
  and the discussion_reply.cpy script must be removed from the 'custom' folder. Then comments need to be tested. (jcbrand)
- removed osha.adaptation from requirements, not to be deployed yet (thomasw)

1.2.56b10 (2010-01-04)
----------------------

- Nothing changed yet.


1.2.56b1 (2010-01-04)
---------------------

- changed topic(s) view to use image(s)/video from the canonical
  translation for all languages #428 (deroiste)


1.2.55 (2009-12-28)
-------------------

- fixed practical solutions portlet link to FAQs (deroiste)
- removed unused import statements in adapter.py and alertservice.py (jcbrand)

1.2.54
------

- Napo viewlet changes


1.2.53 (2009-12-17)
-------------------

- fixed an outcommented style statement (pilz)
- Fixed handleOSHMailUrls() in the osha-view so that links in news and events
  correctly receive google analytics params again (thomasw)
- event_view: hide contact phone and e-mail when empty; display additional
  field for selected Subject(s) (thomasw)


1.2.51 (2009-12-10)
-------------------

- Commented out FAQ from practical solutions portlet since there are
  no FAQs yet (deroiste)
- Renamed OSHNetwork flags so that they will appear correctly
  (deroiste) 
- Reverted CSS so that only images and flash in the left hand side
  which don't have a set height and width will be stretched via the
  template (deroiste)

1.2.50 (2009-12-07)
-------------------

- Added FAQ to practical solutions portlet (deroiste)
- Fixed a bug in folder_listing.pt that is causing problems with seminars (jcbrand)
- Added EUPL license (deroiste)

1.2.49 (2009-11-25)
-------------------

- fix for the rsstemplate, wrong xml encoding (pilz)


1.2.48 (2009-11-25)
-------------------

- Added oshnetwork member flags (pecek, deroiste)
- Configured practical solutions views for FAQs and changed them to search by
  Language instead of getRemoteLanguage #375 (deroiste)
- replaced portal_catalog(query) with queryCatalog in question-in-
  parliament-search, due to different results (thomasw)
- added Google analytics code to OSHMail (thomasw)


1.2.47 (2009-11-18)
-------------------

- removed unfortunate nagigation caching (pilz)


1.2.46 (2009-11-17)
-------------------

- Nothing changed yet.


1.2.46 (unreleased)
-------------------

- Nothing changed yet.


1.2.45 (2009-11-17)
-------------------

- added db_filter based image search for DAL named @@image-library-search. Bases on deroistes code (pilz)
- in the rss template now show the context url instead of the portal url as base for the feed. Prepares the fix for #304 (pilz)
- display:none for the filed under text on the blog entry (pilz)
- remove unnecessary (and potentially harmful) condition:contact from pressroom template (thomasw)
- fixed oshnetwork links to practical-solutions (deroiste)
- 'patch' for TextIndexNG3: overriding addSearchableTextField for CMFContentAdapter and FileAdapter, as we recently get a
   string for SearchableText(). Probably limited to OSHA (thomasw)

1.2.44 (2009-11-09)
-------------------

- changed rss-feeds to use the addthis button - work for ticket 418  (pilz)
- Added new country flags for OSHNetwork (deroiste)
- Various css and minor template tweaks to Topics and Practical Solutions and
  Legislation views #374, #375, #376, #414 (deroiste)


1.2.43 (2009-10-27)
-------------------

- Added new napo film  rels to #364 (pilz)
- vastly extended the help text on how to search for collections by "path:", plus added a hard link to
  http://osha.europa.eu/directory; ticket 396 (thomasw) 

1.2.42 (2009-10-25)
-------------------

- updated addthis code (pilz)
- added rss icon to blog view (pilz)


1.2.41 (2009-10-25)
-------------------

- Nothing changed yet.


1.2.40 (2009-10-25)
-------------------

- oshaview: fixed a bug introduced in revision 1835 that prevented any keyword from being 
  displayed in the HTML header;  Also, keywords from the Subject list are now properly translated (thomasw)
- fixed accessibility problem where p must not appear within a span. This is due to the fact that the agency requires html rendering for descriptions. (pilz)
- fixed additional CSS Bugs based on the Carsa report (pilz)
- added flashobject.js (pilz)
- converted flash portlet to use flashobject.js to load the film (pilz)


1.2.39 (2009-10-21)
-------------------

- Various tweaks to the Cleaning Workers / Topics SEP, Practical Solutions
  Advanced search field #375 #376 #409 (deroiste)
- i18n for "questions in parliament / BeSWIC" (thomasw)

1.2.38 (2009-10-20)
-------------------

- Fixed dependencies, minor code style improvements and handling of edge cases
  in the Topics view (deroiste)

1.2.37 (2009-10-18)
-------------------

- Added the blog RSS feed to rss-feeds browser view according to request in #239 (pilz)
- Added a locales-directory for OSHA specific translation customisations (thomasw)
- Topics views changed to use a rich document and related images or video for
  content. (deroiste)
- Finalised i18n for Practical Solutions (deroiste)
- Add the necessary meta and link tags for sharing with facebook (jcbrand)
- added "questions-in-parliament" search, a special search interface for publications on BeSWIC (thomasw)

1.2.36 (2009-10-12)
-------------------

- Limiting the Category filter to one category and fixing the subcategory
  filter. #375 (deroiste)

1.2.35 (2009-10-09)
-------------------

- Practical solution pages: adding more options to the search filter, fixing
  the category and subcategory filter. (deroiste)

1.2.34 (2009-10-09)
-------------------

- bugfix for the display of Subject on the blog_view (thomasw)

1.2.33 (2009-10-08)
-------------------

- Practical solutions: separating Publications, removing collabsible search
  results and instead linking to practical solutions pages with appropriately
  filtered results. (deroiste)

1.2.32 (2009-10-07)
-------------------

- Minor visual tweaks to Practical Solutions (deroiste)

1.2.31 (2009-10-06)
-------------------

- Added a new poperty to oshaprops-controlpanel: show_previous_events (thomasw)
- Using new property show_previous_events in oshevents portlet to determine whether to 
  display a link to previous events (thomasw)
- Adjusted layout and added "more" link to the Practical solutions portlet: now
  feature complete (#376) (deroiste)

1.2.30 (2009-10-06)
-------------------

- Fixed query in browser.practical_solutions (deroiste)

1.2.29 (2009-10-05)
-------------------

- Googlesearch portlet: make the search field even smaller to allow room for the submit button (thomasw)

1.2.28 (2009-10-05)
-------------------

- Added advanced search to Practical Solution (deroiste)
- Added Publications to Practical Solutions portlet and adjusted ordering (deroiste)
- Fixed some css issues on IE6 and IE7 Practical Solution(s) and Topic(s) (deroiste)
- made Google search portlet smaller, ticket 387 (thomasw) 


1.2.27 (2009-09-30)
-------------------

- Use css to hide the OSHA Metadata widget on the BlogEntry edit form (jcbrand)
- Adding optional introductory text as an alternative to the linkcollection for
  Topic pages. #376 (de Roiste)
- Fixing some expectations in javascript #397 (Gerken)
- added osha's customised version of UberSelectionWidget. Only reason: to add an explanation
  on how to search using the "path:" operator #396 (thomasw)


1.2.26 (2009-09-29)
-------------------

- Fixed a naming bug in skins.xml concerning the new long name for the
  fckeditor directory (jcbrand)
- Add a new viewlet for the "Add This" social bookmarker. It will be visible on
  all IATNewsItem providers (jcbrand)
- Resized Practical Solutions images (de Roiste)

1.2.25 (2009-09-29)
-------------------

- Minor changes to fix breaking tests. (de Roiste)

osha.theme 1.2.24 (2009-09-28)
------------------------------

- Added the Practical Solution portlet, Issue 376. (de Roiste)
- Fixed wrong layer name (gerken)

osha.theme 1.2.23 (2009-09-28)
------------------------------

- A weird issue with tar files and python 2.4 breaks 1.2.22 release.
  See here for more information: http://bugs.python.org/issue7011
  A workaround has been applied and a skin name has been changed.
  Take care to rename that skin in your skin layers from 
  osha_theme_custom_fckeditor to
  osha_theme_custom_fckeditor99charsfixdeadbeefdeadbe (gerken)

osha.theme 1.2.22 (2009-09-26)
------------------------------

- Fixed the isCanonical AttributeError caused by the oshevents portlet. (jcbrand)

osha.theme 1.2.21 (2009-09-15)
------------------------------

- don't display PDF icons in the publications language box (slc.publications) (thomasw)
- network members: Making sure the portlet handles the case when there is no 
  annotatedlinklist or it is empty. (deroiste)
- Network members: Adding the National Flag to the view template (deroiste)

osha.theme 1.2.20 (2009-09-13)
------------------------------

- now really fixed bug in rss_template (thomasw)
- code refactoring to allow for testing it alone (gerken)
- added url based caching for navigation portlet - experimental (pilz)

osha.theme 1.2.19 (2009-09-09)
------------------------------

- replaced several occurrences of parent-fieldname-image ids through classes (pilz)
- added a vocabulary for testing the annotatablelinklist feature (pilz)
- bugfix in the rss_template (thomasw)
- added compatibility with portlet, minor style changes (pilz)

osha.theme 1.2.18 (2009-09-01)
------------------------------

- making use of slc.googlesearch's new additional_parameters feature (thomasw)

osha.theme 1.2.17 (2009-08-31)
------------------------------

- changed behaviour in osh-macros in case of missing publication date (gerken)
- in oshnews-local-view: make sure only news that are already effective are shown (thomasw)
- rss_template: made the <item> section more human readable; Subject is now translated;
  use item's effective date if present, fall back to modification date (thomasw)

osha.theme 1.2.16 (2009-08-18)
------------------------------

- Fixed wrong configuration and broken links for anyurl on the rss feeds page (gerken)

osha.theme 1.2.15 (2009-08-17)
------------------------------

- improved testing (gerken)
- replaced logos by new versions made by Cornelis (thomasw)

osha.theme 1.2.14 (2009-08-14)
------------------------------

- Fix for ticket 379 (gerken)

osha.theme 1.2.13 (2009-08-12)
------------------------------

- Deleting users will no longer delete all their roles in the portal. That
  makes user deletion much faster (gerken)
- overwriting atct_album_view.pt from ATContentTypes to hide the folder-listing view if "other"
  content is present; overwriting atctListAlbum.py to also include Large Plone Folder (thomasw)
- make links from image-portlet not fail for URLs that need a '?' (thomasw)
- fixed problem with fullscreen-mode of FCK editor (gerken)

osha.theme 1.2.12 (2009-08-03)
------------------------------

- improved RSS-feed generation (gerken)

osha.theme 1.2.11 (2009-08-02)
------------------------------

- major change for the ERO search: don't use separate fields (schema-extended) for topic and
  target_group any more. Rather, use the osha_metadata vocablary with the 2 sub-vocabs ero_topic
  and ero_target_group (thomasw)


osha.theme 1.2.10 (2009-08-01)
------------------------------

- REVERTED: renaming indexes ero_target_group and ero_topic to getEroTargetGroup and getEroTopic due to unsolved
  problems in data consistency and schema-extending (thomasw)

osha.theme 1.2.9 (2009-08-01)
-----------------------------

- fixed indentation error in rolling_quote (pilz)
- bugfix: the @ attribute selectors in jquery for collage.js are now removed (thomasw)
- fixing broken external link (ticket 366) in international dropdown (thomasw)
- indexed ero_target_group and ero_topic renamed to getEro_target_grop and getEro_topic (gerken)
- osha.js: 2 changes: 1) prevent scanforlinks from running twice 2) if the "open external links in new window" option
  is enabled, add target _blank to link tags (thomasw)
- image/flash portlet: make links on a banner open in a new window (thomasw)
- limit query of the worklist to current langugage and neutral (thomasw)
- Adapt test to new slc.publications' LinguaPlone patch (gerken)

osha.theme 1.2.8 (2009-07-26)
-----------------------------

- hide categories (filed under) globally, requested by #334 (pilz)
- re-added atoz index link to google search portlet (pilz) #344
- overridden referencebrowser_popup.pt to show items' Descriptions. Ticket #309 (brand)

osha.theme 1.2.7 (2009-07-19)
-----------------------------

- fixed utf-8 quote problem in meltwater feeds (pilz)
- be error-tolerant if a press-contact is missing in the pressroom-view (static and dynamic) (thomasw)
- dynamic press-room: added sort_on criterium to get_press_releases & get_articles (thomasw)
- dynamic press-room: better formatting for storydate, which is now taken from the cat-metadatum Date (thomasw)
- Press Release (view + listing): don't show Effective date, but the PR's story date (==release date) (thomasw)

osha.theme 1.2.6 (2009-07-12)
-----------------------------

- changed i18n:domain to osha for the press room views (thomasw)

- made contact-info (for subsites) more sophisticated: (thomasw)

  1) show for all subsites, regardless of URL / domain.
  2) possibility to add contact_intro into language root - text will be shown as intro above the form
  3) If "Support email address" from the oshaprops of the subsite is set, it will be 
     used instead of the global email_from_address

- also fixed workflow deleted status selection in the initial search request when opening the worklist (pilz)

osha.theme 1.2.5 (2009-07-03)
-----------------------------

- fixed workflow deleted status selection (pilz)
- replaced "Show previous news" with "Archive" (thomasw)
- changed rss template to make news item return the effective

osha.theme 1.2.4 (2009-06-25)
-----------------------------

- fixed display-bug in footer actions (thomasw)

osha.theme 1.2.3 (2009-06-25)
-----------------------------

- site update respects navigation root (pilz)
- removed the alt tag from the flashsnippet to make it xhtml compliant (pilz)
- changed newsitem_view, removed id=parent-fieldname-image as it occurred multiple times (pilz) 
- separated the footer actions in two separate uls (pilz)
- overwriting searchbox portlet of slc.googlesearch to be able to 
  use a translation in the osha domain (thomasw)

osha.theme 1.2.2 (2009-06-23)
-----------------------------

- make Collage imports work for both version 1.2.1 and 1.2.0 (svn unreleased)

osha.theme 1.2.1 (2009-06-17)
-----------------------------

- cleaned & fixed tests (gerken)

osha.theme 1.2 (2009-06-10)
---------------------------

- First release (thomasw)

osha.theme 1.1 (2009-05-12)
---------------------------

- Packaged egg (pilz)

osha.theme 1.0 (2008-03-31)
---------------------------

- Initial port
