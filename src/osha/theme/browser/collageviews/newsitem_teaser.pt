<tal:manager replace="structure provider:collage.ContentManager" />

<span tal:define="url here/absolute_url;
    obj_description here/Description;
    oshaview here/@@oshaview;
    collage_id view/getCollageId;
    obj_description python:oshaview.handleOSHMailUrls(obj_description, collage_id);
    title_or_id here/pretty_title_or_id;">


    <h2 metal:define-macro="title"
        
        tal:condition="here/Title">
      <span metal:define-slot="inside" 
            tal:replace="here/Title">title</span>
    </h2>

            <div class="newsImageContainer" style="width: 100px;"
                 tal:condition="here/image_mini|nothing"
                 xtal:on-error="nothing">
                <a href="#"
                   tal:attributes="href string:$url"
                   class="parent-fieldname-image">
                   <img tal:attributes="src string:${url}/image; alt title_or_id;" />
                </a>
            </div>

            <span tal:omit-tag="" tal:condition="not:obj_description"> 
                &nbsp; 
            </span> 
            
            <span class="description" tal:content="structure obj_description">
                description 
            </span> 


  <!-- web teasers usually don't have a proper body - commenting out -->
    <!--div metal:define-macro="text"
         tal:define="view context/@@collage_kss_helper;
             text python: here.CookedBody(stx_level=2)"
         tal:attributes="id string:${view/getUniqueIdentifier}-text;
                 class python: here.Format() in
                               ['text/structured', 'text/x-rst'] and 'stx' or 'plain' +
                 view.getKssClasses('text')"
         tal:condition="text"
         class="stx">
      <span metal:define-slot="inside" 
            tal:replace="structure text">text</span>
    </div--> 

    <div class="visualClear"></div>
</span>