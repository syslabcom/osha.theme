<metal:page define-macro="master">
<metal:doctype define-slot="doctype">
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
</metal:doctype>
<metal:block use-macro="here/global_defines/macros/defines" />
<metal:block tal:define="charset here/site_properties/default_charset|string:utf-8; dummy python:request.RESPONSE.setHeader('Content-Type', 'text/html;;charset=%s' % charset)" />
<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en"
      lang="en"
      tal:attributes="lang site_properties/default_language|default;
                      xml:lang site_properties/default_language|default;">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"
          tal:define="charset site_properties/default_charset|string:utf-8"
          tal:attributes="content string:text/html;;charset=${charset}" />

    <title tal:define="portal_title here/portal_properties/title;
                       here_title here/Title | here/title | here/id;
                       template_title python:template.title_or_id();
                       here_title python:test( portal_title != here_title,
                                               here_title,
                                               template_title )"
           tal:content="structure string:$portal_title - $here_title">Title of page</title>


    <meta tal:condition="here/listMetaTags|nothing"
          tal:repeat="keyval here/listMetaTags"
          tal:attributes="name python:keyval[0];
                          content python:keyval[1];" />

<style type="text/css" tal:define="sheet python:getattr(here, 'oshmail.css')" tal:content="structure sheet" ></style>


</head>

<body leftmargin="5" style="margin-left: 1em"
    tal:define="plone_view context/@@plone;
				view nocall:view | nocall: plone_view;
				ltool nocall:here/portal_languages;
                propstool nocall:here/portal_properties;
                site_props nocall:propstool/site_properties;
                prefLang ltool/getPreferredLanguage;
                oshaview here/@@oshaview;
                collage_id here/getId;
                url python:oshaview.handleOSHMailUrls('https://osha.europa.eu', collage_id);
				body_class python:plone_view.bodyClass(template, view);"
	tal:attributes="class body_class;">

<table width="890"><tr><td>
<table background="http://localhost:6780/osha/portal/oshmailheaderbackground.png" width="100%">
	<tr><td><a style="width:250px; height:180px; display:block" accesskey="1" href="https://osha.europa.eu/en" target="_blank" height="180" width="300">		&nbsp;</a>
	</td>
	<td>
		<h1 class="documentFirstHeading" tal:content="here/title_or_id">collection id or title</h1>
	</td></tr>
</table>

</td></tr><tr><td>

<table width="100%" id="language-list">
    <tr>
        <td valign="top"
            tal:define="lang_info ltool/getAvailableLanguageInformation;">
        <tal:block define="supported_languages ltool/listSupportedLanguages|python:[];
                           languages_on_main_site site_props/languages_on_main_site|python:[];
                           served_language_keys python:[x[0] for x in supported_languages if x[0] in languages_on_main_site];
                           served_languages python:oshaview.get_sorted(served_language_keys);"
            condition="python:len(served_languages)>1">
            <div i18n:domain="osha" style="text-align: center"
                tal:define="thisurl string:${here/absolute_url}/${template/id}">

              <span tal:repeat="lang served_languages"><a tal:omit-tag="python:prefLang == lang"
                        tal:define="lang_url python:thisurl+'?set_language='+lang;
                            url python:oshaview.handleOSHMailUrls(lang_url, collage_id);"
                        href="" tal:attributes="href url"
                        tal:content="python:oshaview.get_native_language_by_code(lang)">lang</a><span tal:condition="not:repeat/lang/end">&nbsp;|&nbsp;</span></span>
            </div>
        </tal:block>
      </td>
    </tr>
</table>

</td></tr><tr><td>


   <metal:bodytext metal:define-slot="main" tal:content="nothing">
      <!-- Page body text -->
   </metal:bodytext>


</td></tr></table>
</body>
</html>
</metal:page>

